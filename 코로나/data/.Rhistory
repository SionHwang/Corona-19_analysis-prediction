ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("Cumulative number of confirmed, completed, and deceased") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("Cumulative number of confirmed, completed, and deceased") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 1.5, size=20, color="black"))
0
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("Cumulative number of confirmed, completed, and deceased") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("Cumulative number of confirmed, completed, and deceased") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.2, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("Cumulative number of confirmed, completed, and deceased") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.3, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("<Cumulative number of confirmed, completed, and deceased>") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.3, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("<Cumulative number of confirmed, completed, and deceased>") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.35, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("<Korea increasing trend>") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.35, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("<Korea increasing trend>") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("<Korea increasing trend>") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.2, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("<Korea increasing trend>") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.7, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("<Korea increasing trend>") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="black"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("<Korea increasing trend>") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelred"))
ggplot(coda, aes(x = time, y = count, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = " ") +
ggtitle("<Korea increasing trend>") +
theme_set(theme_gray(base_family='NanumGothic'))+
theme(text=element_text(color="grey30")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
View(coda)
library('remotes')
library('nCov2019')
update.packages('nCov2019')
# Korea
nCov2019_set_country('South Korea')
Kor <- load_nCov2019(lang = 'en', source = 'github')
head(Kor['province'])
Kor["province"] -> Kor_Data
str(Kor["province"])
Kor_Data$province
str(Kor_Data$province)
Kor_Data$province[2]
Kor_coda <- Kor_Data[,c(1,3)]
View(kor_coda)
View(Kor_coda)
View(Kor_coda)
View(Kor_Data)
coda2 <- Kor_Data[c(19628:19699),c(1,4,5,6)]
View(coda2)
View(Kor_Data)
# Korea
nCov2019_set_country('South Korea')
Kor <- load_nCov2019(lang = 'en', source = 'github')
Kor["province"] -> Kor_Data
View(Kor_Data)
coda2 <- Kor_Data[c(19628:19699),c(1,4,5,6)]
View(coda2)
d <- load_nCov2019()
dd <- d['global'] %>%
as_tibble %>%
rename(confirm=cum_confirm) %>%
filter(confirm > 100 & country == "South Korea") %>%
group_by(country) %>%
mutate(days_since_100 = as.numeric(time - min(time))) %>%
ungroup
View(dd)
Kor_coda <- Kor_Data[,c(1,4,5,6)]
View(Kor_coda)
coda2 <- Kor_Data[c(19628:19698),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(100:196),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(300:496),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(800:496),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(800:996),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(1100:1296),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(1400:1496),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(1400:1460),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(1380:1452),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(1380:1445),c(1,4,5,6)]
View(coda2)
View(coda2)
coda2 <- Kor_Data[c(1380:1440),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(1370:1440),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(1360:1440),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(1368:1440),c(1,4,5,6)]
View(coda2)
coda2 <- Kor_Data[c(1369:1440),c(1,4,5,6)]
View(coda)
View(kor_coda)
View(Kor_coda)
read.csv("/Users/cpprhtn/Desktop/Kor_coda.csv") -> update_coda
up_coda <- rbind(update_coda,coda2)
str(update_coda)
str(coda2)
update_coda$time <- as.Date(update_coda$time)
up_coda <- rbind(update_coda,coda2)
str(update_coda)
View(update_coda)
update_coda <- update_coda[,c(2:5)]
up_coda <- rbind(update_coda,coda2)
View(update_coda)
coda2 <- coda2[c("time","confirm","cum_heal","cum_dead")]
coda2 <- coda2[c("time","confirm","cum_heal","cum_dead"),]
up_coda <- rbind(update_coda,coda2)
coda2 <- Kor_Data[c(1369:1440),c(1,4,5,6)]
View(coda2)
rename(coda2)
View(coda2)
coda2$confirm <- coda2$cum_confirm
View(coda2)
coda3 <- coda2[,c(1,5,3,4)]
up_coda <- rbind(update_coda,coda3)
View(up_coda)
View(up_coda)
write.csv(up_coda, "/Users/cpprhtn/Desktop/update_coda.csv")
View(Kor_Data)
View(Kor_coda)
View(kor_coda)
write.csv(kor_coda, "/Users/cpprhtn/Desktop/kor_coda.csv")
View(time_raw)
View(up_coda)
write.csv(kor_coda, "/Users/cpprhtn/Desktop/kor_coda.csv") #일일 확진자
write.csv(kor_coda, "/Users/cpprhtn/Desktop/coda2.csv") #일일 확진자
#https://www.kaggle.com/kimjihoo/coronavirusdataset/data?select=Weather.csv
#누적 확진, 완치, 사망
time <- read.csv("Time.csv")
#세팅
library(dplyr)
library(ggplot2)
library(tidyr)
#세팅
library(dplyr)
library(ggplot2)
library(tidyr)
setwd("/Users/cpprhtn/Desktop/git_local/Corona-19_made_JW/코로나/data")
#https://www.kaggle.com/kimjihoo/coronavirusdataset/data?select=Weather.csv
#누적 확진, 완치, 사망
time <- read.csv("Time.csv")
View(time)
time_sel <- time %>% select(date, confirmed, released, deceased)
time_raw <- time_sel %>% gather(type, number, -date)
time_raw$date <- as.Date(time_raw$date)
ggplot(time_raw, aes(x = date, y = number, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ggtitle("Cumulative number of confirmed, completed, and deceased") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
ggplot(time_raw, aes(x = date, y = number, color = type)) +
geom_line(lwd = 2) +
xlab(label = "Date") +
ggtitle("Cumulative number of confirmed, completed, and deceased") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
ggplot(time_raw, aes(x = date, y = number, color = type)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ggtitle("Cumulative number of confirmed, completed, and deceased") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
ggplot(time_raw, aes(x = date, y = number, color = type)) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ggtitle("Cumulative number of confirmed, completed, and deceased") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
ggplot(time_raw, aes(x = date, y = number, color = type)) +
geom_line(lwd = 2) +
xlab(label = "Date") +
ggtitle("Cumulative number of confirmed, completed, and deceased") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
#검색 트렌드
search <- read.csv("SearchTrend.csv")
search_g <- gather(trend, keyword, volume, -date)
search_g <- gather(search, keyword, volume, -date)
search_g$date <- as.Date(search_g$date)
trend_g %>%
ggplot(aes(x=date, y=volume, color=keyword)) +
geom_line(lwd = 2) + scale_x_date(breaks = "month", limits = c(min, max)) +
xlab(label = "Date") +
ylab(label = "Number of searches") + ylim(0,90) +
ggtitle("Search Trend") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
search_g %>%
ggplot(aes(x=date, y=volume, color=keyword)) +
geom_line(lwd = 2) + scale_x_date(breaks = "month", limits = c(min, max)) +
xlab(label = "Date") +
ylab(label = "Number of searches") + ylim(0,90) +
ggtitle("Search Trend") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
search_g %>%
ggplot(aes(x=date, y=volume, color=keyword)) +
geom_line(lwd = 2) + scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "Number of searches") + ylim(0,90) +
ggtitle("Search Trend") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
search_g$date <- as.Date(search_g$date)
search_g %>%
ggplot(aes(x=date, y=volume, color=keyword)) +
geom_line(lwd = 2) +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "Number of searches") + ylim(0,90) +
ggtitle("Search Trend") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
View(search_g)
min <- as.Date("2020-01-01")
max <- as.Date("2020-05-31")
search_g %>%
ggplot(aes(x=date, y=volume, color=keyword)) +
geom_line(lwd = 2) + scale_x_date(breaks = "month", limits = c(min, max)) +
xlab(label = "Date") +
ylab(label = "Number of searches") + ylim(0,90) +
ggtitle("Search Trend") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
#2019
min19 <- as.Date("2020-01-01")
#2019
min19 <- as.Date("2019-01-01")
max19 <- as.Date("2020-01-01")
search_g %>%
ggplot(aes(x=date, y=volume, color=keyword)) +
geom_line(lwd = 2) + scale_x_date(breaks = "month", limits = c(min19, max19)) +
xlab(label = "Date") +
ylab(label = "Number of searches") + ylim(0,90) +
ggtitle("Search Trend in 2020") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
search_g %>%
ggplot(aes(x=date, y=volume, color=keyword)) +
geom_line(lwd = 2) + scale_x_date(breaks = "month", limits = c(min19, max19)) +
xlab(label = "Date") +
ylab(label = "Number of searches") + ylim(0,25) +
ggtitle("Search Trend in 2019") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
search_g %>%
ggplot(aes(x=date, y=volume, color=keyword)) +
geom_line(lwd = 2) + scale_x_date(breaks = "month", limits = c(min19, max19)) +
xlab(label = "Date") +
ylab(label = "Number of searches") + ylim(0,20) +
ggtitle("Search Trend in 2019") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
search_g %>%
ggplot(aes(x=date, y=volume, color=keyword)) +
geom_line(lwd = 2) + scale_x_date(breaks = "month", limits = c(min, max)) +
xlab(label = "Date") +
ylab(label = "Number of searches") + ylim(0,90) +
ggtitle("Search Trend in 2020") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
search_g %>%
ggplot(aes(x=date, y=volume, color=keyword)) +
geom_line(lwd = 2) + scale_x_date(breaks = "month", limits = c(min19, max19)) +
xlab(label = "Date") +
ylab(label = "Number of searches") + ylim(0,20) +
ggtitle("Search Trend in 2019") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
#성별에 따른 누적 확진자 수
gender <- read.csv("TimeGender.csv")
gender_g <- mutate(gender, death_rate = deceased/confirmed)
gender_g$date <- as.Date(gender_g$date)
gender_g %>% ggplot(aes(x = date, y = confirmed, fill = sex)) +
geom_bar(stat = "identity", position = "dodge") +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "number of confirmed cases") +
ggtitle(label = "Cumulative number of confirmed cases by gender") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
gender_g %>% ggplot(aes(x = date, y = confirmed, fill = sex)) +
geom_bar(stat = "identity", position = "dodge2") +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "number of confirmed cases") +
ggtitle(label = "Cumulative number of confirmed cases by gender") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
gender_g %>% ggplot(aes(x = date, y = confirmed, fill = sex)) +
geom_bar(stat = "identity", position = "dodge") +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "number of confirmed cases") +
ggtitle(label = "Cumulative number of confirmed cases by gender") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="steelblue"))
gender_g %>% ggplot(aes(x = date, y = confirmed, fill = sex)) +
geom_bar(stat = "identity", position = "dodge") +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "number of confirmed cases") +
ggtitle(label = "Cumulative number of confirmed cases by gender") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="darkblue"))
gender_g %>% ggplot(aes(x = date, y = confirmed, fill = sex)) +
geom_bar(stat = "identity", position = "dodge") +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "number of confirmed cases") +
ggtitle(label = "<Number of confirmed cases by gender>") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="darkblue"))
gender_g %>% ggplot(aes(x = date, y = confirmed, fill = sex)) +
geom_bar(stat = "identity", position = "dodge") +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "number of confirmed cases") +
ggtitle(label = "<Number of confirmed cases by gender>") +
theme(text=element_text(color="grey50")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.7, size=20, color="black"))
gender_g %>% ggplot(aes(x = date, y = confirmed, fill = sex)) +
ggtitle(label = "<Number of confirmed cases by gender>") +
geom_bar(stat = "identity", position = "dodge") +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "number of confirmed cases") +
theme(text=element_text(color="grey")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.7, size=20, color="black"))
gender_g %>% ggplot(aes(x = date, y = confirmed, fill = sex)) +
ggtitle(label = "<Number of confirmed cases by gender>") +
geom_bar(stat = "identity", position = "dodge") +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "number of confirmed cases") +
theme(text=element_text(color="black")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.7, size=20, color="black"))
gender_g %>% ggplot(aes(x = date, y = confirmed, fill = sex)) +
ggtitle(label = "<Number of confirmed cases by gender>") +
geom_bar(stat = "identity", position = "dodge") +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "number of confirmed cases") +
theme(text=element_text(color="black")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.7, size=20, color="black"))
#성별에 따른 사망률
ggplot(ggender_g, aes(x=date, y=death_rate, color=sex)) +
ggtitle(label = "gender-based mortality") +
geom_point() + geom_line() +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "mortality") +
theme(text=element_text(color="black")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="dark red"))
#성별에 따른 사망률
ggplot(gender_g, aes(x=date, y=death_rate, color=sex)) +
ggtitle(label = "gender-based mortality") +
geom_point() + geom_line() +
scale_x_date(breaks = "month") +
xlab(label = "Date") +
ylab(label = "mortality") +
theme(text=element_text(color="black")) +
theme(axis.title=element_text(size=15)) +
theme(plot.title=element_text(hjust = 0.5, size=20, color="dark red"))
